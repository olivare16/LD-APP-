<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#0b1220">
  <title>Liguita de Dominó</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #eef2f6;
      --card: #ffffff;
      --text: #0b1220;
      --muted: #5f6b7a;
      --radius: 18px;
      --gap: 14px;

      --brand-1: #f59e26;
      --brand-2: #f49503;
      --brand-3: #ffbd4b;
      --shadow: 0 10px 30px rgba(17, 29, 56, .15);
    }

    /* ===== Base ===== */
    *{ box-sizing: border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background: radial-gradient(1200px 600px at 50% -100px, #fff 0%, #f7f9fc 50%, #eef2f6 100%);
      color:var(--text);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      padding-bottom: env(safe-area-inset-bottom, 0);
    }
    img{ max-width:100%; display:block; }
    h1,h2,h3,p{ margin:0; }

    .container{
      max-width: 960px;
      margin-inline: auto;
      padding: 18px 14px 38px;
    }

    /* ===== Header ===== */
    .header{
      display:grid;
      grid-template-columns: 1fr auto;
      align-items:center;
      gap: var(--gap);
      margin-bottom: 18px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:14px;
    }
    .brand img{
      width:52px; height:52px; border-radius:12px;
      box-shadow: var(--shadow);
    }
    .brand h1{
      font-weight: 800;
      font-size: clamp(20px, 4.5vw, 32px);
      line-height:1.1;
      letter-spacing:.2px;
    }
    .cta{
      justify-self:end;
    }
    .btn{
      appearance: none;
      border:0;
      cursor:pointer;
      padding: 16px 26px;
      border-radius: 16px;
      font-weight: 800;
      font-size: 18px;
      color:#1a202c;
      background: linear-gradient(180deg, var(--brand-3), var(--brand-2));
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.6),
        0 10px 20px rgba(244,149,3,.25);
      transition: transform .05s ease;
    }
    .btn:active{ transform: translateY(1px) scale(.998); }

    /* ===== Responsive grids ===== */
    .two-col{
      display:grid;
      grid-template-columns: 1fr;   /* móvil: 1 col */
      gap: var(--gap);
    }
    @media (min-width:520px){
      .header{ grid-template-columns: 1fr auto; }
      .two-col{ grid-template-columns: 1fr 1fr; } /* >=520px: 2 cols */
    }
    @media (max-width:520px){
      .cta{ justify-self: stretch; } /* botón ancho completo en móvil */
      .btn{ width:100%; }
    }

    /* ===== Cards / scores ===== */
    .card{
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px;
      width:100%;
    }
    .score-card h3{
      font-size: 22px;
      font-weight: 700;
      color: var(--muted);
      margin-bottom: 6px;
    }
    .score{
      font-size: clamp(44px, 12vw, 84px);
      font-weight: 800;
      line-height: 1;
      color: #0b1220;
      letter-spacing: 1px;
    }

    /* ===== Input panel ===== */
    .panel{
      margin-top: 14px;
      padding: 18px;
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .inputs input{
      width:100%;
      min-width:0;
      padding: 16px 18px;
      border: 2px solid #f3b560;
      outline: none;
      border-radius: 14px;
      font-size: 18px;
      background: #fff;
      color: var(--text);
    }
    .inputs input::placeholder{ color:#b6bfcc; }

    /* Quitar flechas de number */
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button{
      -webkit-appearance: none; margin:0;
    }
    input[type="number"]{ -moz-appearance: textfield; }

    .primary{
      margin-top: 14px;
      width: 100%;
      display:block;
      text-align:center;
    }

    /* ===== Historial ===== */
    .history{
      margin-top: 14px;
      padding: 18px;
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .history h3{ font-size: 22px; font-weight: 800; margin-bottom: 10px; }
    .list{
      display:flex; flex-direction:column; gap:10px;
      max-height: 240px; overflow:auto; padding-right:4px;
    }
    .item{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:12px 14px;
      border:1px solid #f0f0f0; border-radius:12px; background:#fff;
    }
    .item b{ font-weight:800; }
    .badge{
      padding:6px 10px; border-radius:999px;
      background:linear-gradient(180deg, var(--brand-3), var(--brand-2));
      font-weight:800; font-size:14px; color:#1a202c;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.6);
      white-space:nowrap;
    }

    /* ===== Mensaje/alerta pequeña ===== */
    .msg{
      margin-top: 10px;
      color: #b43429;
      background: #fde7e7;
      border: 1px solid #f9c5c0;
      padding: 10px 12px;
      border-radius: 10px;
      display:none;
      font-size: 14px;
      font-weight:600;
    }
    .msg.show{ display:block; }

    /* ===== Footer pequeño ===== */
    .foot{
      margin: 22px auto 0; text-align:center; color:#99a3b2;
      font-size:14px;
    }

    /* ===== Splash (intro 2s) ===== */
    #splash{
      position:fixed; inset:0; background:#fff;
      display:flex; align-items:center; justify-content:center;
      z-index: 9999;
      transition: opacity .4s ease, visibility .4s ease;
    }
    #splash.hide{ opacity:0; visibility:hidden; pointer-events:none; }
    .splash-card{
      width:120px; height:120px; border-radius:26px;
      display:grid; place-items:center;
      background: #fff;
      box-shadow: 0 25px 70px rgba(0,0,0,.12), inset 0 1px 0 #fff;
    }
    .splash-card img{ width:90px; height:90px; }
  </style>
</head>
<body>

  <!-- Splash de 2 segundos -->
  <div id="splash" aria-hidden="true">
    <div class="splash-card">
      <!-- usa tu logo.svg del repo -->
      <img src="logo.svg" alt="LD logo">
    </div>
  </div>

  <main class="container">
    <!-- Header -->
    <header class="header">
      <div class="brand">
        <img src="logo.svg" alt="LD logo" width="52" height="52">
        <h1>Liguita de Dominó</h1>
      </div>
      <div class="cta">
        <button class="btn" id="btnNuevo">Nuevo Juego</button>
      </div>
    </header>

    <!-- Scores -->
    <section class="two-col">
      <div class="card score-card">
        <h3>Equipo 1</h3>
        <div class="score" id="s1">0</div>
      </div>
      <div class="card score-card">
        <h3>Equipo 2</h3>
        <div class="score" id="s2">0</div>
      </div>
    </section>

    <!-- Panel de inputs y sumar -->
    <section class="panel">
      <div class="two-col inputs" style="align-items:center;">
        <input id="p1" type="number" inputmode="numeric" placeholder="Puntos equipo 1" min="0">
        <input id="p2" type="number" inputmode="numeric" placeholder="Puntos equipo 2" min="0">
      </div>
      <button class="btn primary" id="btnSumar">Sumar mano</button>
      <div id="msg" class="msg"></div>
    </section>

    <!-- Historial -->
    <section class="history">
      <h3>Historial</h3>
      <div id="hist" class="list" aria-live="polite" aria-relevant="additions"></div>
    </section>

    <div class="foot">Liguita chilling — By Manuel Olivares</div>
  </main>

  <script>
    // ===== Util =====
    const $ = s => document.querySelector(s);

    // Estado con persistencia
    const state = {
      s1: 0,
      s2: 0,
      hist: [] // [{team:1|2, pts:number, t:number}]
    };

    const load = () => {
      try{
        const saved = JSON.parse(localStorage.getItem('ld_state'));
        if(saved){
          state.s1 = saved.s1|0;
          state.s2 = saved.s2|0;
          state.hist = Array.isArray(saved.hist) ? saved.hist : [];
        }
      }catch(e){}
    };
    const save = () => localStorage.setItem('ld_state', JSON.stringify(state));

    const fmt = n => n.toLocaleString('es-DO');

    const render = () => {
      $('#s1').textContent = fmt(state.s1);
      $('#s2').textContent = fmt(state.s2);
      const hist = $('#hist');
      hist.innerHTML = '';
      state.hist.slice().reverse().forEach(h => {
        const item = document.createElement('div');
        item.className = 'item';
        const who = h.team === 1 ? 'Equipo 1' : 'Equipo 2';
        const when = new Date(h.t).toLocaleTimeString('es-DO', {hour:'2-digit', minute:'2-digit'});
        item.innerHTML = `
          <div><b>${who}</b><div style="color:#8a96a8; font-size:12px">${when}</div></div>
          <div class="badge">+${fmt(h.pts)}</div>
        `;
        hist.appendChild(item);
      });
    };

    const showMsg = (txt) => {
      const m = $('#msg');
      m.textContent = txt;
      m.classList.add('show');
      setTimeout(()=> m.classList.remove('show'), 2500);
    };

    // Sumar mano
    const sumar = () => {
      const v1 = parseInt($('#p1').value,10) || 0;
      const v2 = parseInt($('#p2').value,10) || 0;

      if ((v1<=0 && v2<=0) || (v1>0 && v2>0)){
        showMsg('Ingresa puntos para un solo equipo (y mayor que 0).');
        return;
      }

      if (v1>0){
        state.s1 += v1;
        state.hist.push({team:1, pts:v1, t:Date.now()});
      } else if (v2>0){
        state.s2 += v2;
        state.hist.push({team:2, pts:v2, t:Date.now()});
      }
      $('#p1').value = '';
      $('#p2').value = '';
      save(); render();
    };

    // Nuevo juego
    const nuevo = () => {
      if (state.s1===0 && state.s2===0 && state.hist.length===0){
        return;
      }
      const ok = confirm('¿Empezar un juego nuevo? Se borrará el marcador y el historial.');
      if(!ok) return;
      state.s1 = 0; state.s2 = 0; state.hist = [];
      save(); render();
    };

    // Eventos
    $('#btnSumar').addEventListener('click', sumar);
    $('#btnNuevo').addEventListener('click', nuevo);

    // Enter desde inputs
    $('#p1').addEventListener('keydown', e => { if(e.key==='Enter') sumar(); });
    $('#p2').addEventListener('keydown', e => { if(e.key==='Enter') sumar(); });

    // Cargar estado
    load(); render();

    // Ocultar splash en 2s
    window.addEventListener('load', () => {
      setTimeout(() => { document.getElementById('splash').classList.add('hide'); }, 2000);
    });
  </script>
</body>
</html>
